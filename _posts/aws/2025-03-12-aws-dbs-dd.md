---
layout: post
title:  "Deep Dive on AWS Database offerings"
date:   2025-03-12
categories: [aws]
tags: [cloud, databases]
---

### The Nature of Data

There are mainly 3 types of data:

- **Structured**
    - in related tables in a database engine
- **Unstructured**
    - in files
- **Semistructured**
    - JSON files in a database engine

This is a crucial distinction as different data types need different databases to be handled correctly. 

Therefore, different types of databases exist to handle these data types correctly:

- Relational Databases: A relational database is built to store structured data in tables using a defined schema.
- Key-Value Databases: Key-value databases are a type of non-relational database that store unstructured data in the form of key-value pairs.
- Document Stores: Document stores are a type of non-relational database that store semistructured and unstructured data in the form of files. 
- Non-relational in-memory Databases: In-memory data stores can be used for both structured and semistructured data sources
- Non-relational graph Databases: Graph databases are purpose-built to store any type of data: structured, semistructured, or unstructured. 

### Relational Databases

Relational databases rely on a series of structures, called tables, to hold data.

A column, known as a field, describes one attribute of the entity. A row, known as a record, represents a single instance of an entity.

Rules within the schema define if the attribute is required or optional.

To create a relationship between tables, you first need to ensure that every row in a table is unique. Do this by creating a public key (e.g., customer ID) in a table to give each record a unique value. A foreign key uses values from the primary key in another table to define a record in the current table. This is what builds a relationship between two tables. 

There are two main ways to manage DB transactions (insertion and removal of data):
- **OLTP**: Online Transaction Processing
- **OLAP**: Online Analytical Processing

These two ways optimize for different things: Read and Write operations use the same underlying resources below the db (compute, memory and storage) in very different ways, so it's difficult to optimize for both. This is not really an issue in small databases but becomes a problem with large datasets.

Thus OLTP optimizes for writing and OLAP optimizes for reading data. OLAP optimized databases are also called **data warehouses**.

**Data Indexing**

Tables should be indexed to allow a query to quickly find the data needed to produce a result. Indexes can also help control the way data is physically stored on disk. They physically group records into a predictable order based on the key values within the table. This plays a huge part in the speed and efficiency of queries.

## Core DB AWS Offerings

### Amazon RDS

RDS is a relational database services. Data in RDBs is accessed via SQL. 

RDS relieves users of all admin tasks related to databases: hardware provisioning, OS and DB setup, patching, backups, etc.

RDS is highly available: AWS automatically deploys failover standby copies of the DB in a different AZs to ensure durability and availability.

The user only pays for the used capacity and resources: there are many different instance types and all are compatible with most SQL database engines such as MySQL, MariaDB, or PostgreSQL.

RDBs are usually useful for storing transactional and analytical data.

There are mainly two types of instances:
- On-Demand: pay by the hour
- Reserved: pay a 1 or 3 year term for a discount

Storage is paid per GB/month and I/O is billed per million requests. 

DB Instance class: combination of storage, memory, compute
Database engine: the engine managing the data

RDS instances live inside VPCs and can be secured with 3 types of security groups: database, VPC and EC2.

RDS uses IAM to manage credentials. RDS requires authentication and permissions to access the data. 

RDS data is encrypted at rest with AES-256 encryption.

### Amazon Aurora




### Amazon Redshift

